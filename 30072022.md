### mongoose 연결

```javascript
const mongoose = require("mongoose");

mongoose.connect("mongodb://localhost/todo-demo", {
  useNewUrlParser: true,
  useUnifiedTopology: true,
});
const db = mongoose.connection;
db.on("error", console.error.bind(console, "connection error:"));
```

### REST API란?
 - [REST 아키텍쳐](https://ko.wikipedia.org/wiki/REST)를 따라 구현된 API를 REST API라고 한다.  
 - 원래 있던 방법보다 더 쉽고 사람이 읽기 편한 방식으로 원칙을 세워놨고, 개발자들의 생산성과 상호작용을 증진시킨다.

### Validation이란?
 - Validation은 말 그대로 어떤것을 검증하는 것
 - 예시 : 값이 1인지 아닌지 판단해서 Boolean 타입의 값을 반환하는 함수
    ```javascript
    function is1(value) {
      return value === 1;
    }
    ```
 - https://joi.dev/api/?v=17.6.0
 
   ```javascript
    const Joi = require('joi');

    const schema = Joi.object({
        username: Joi.string()
            .alphanum()
            .min(3)
            .max(30)
            .required(),

        password: Joi.string()
            .pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')),

        repeat_password: Joi.ref('password'),

        access_token: [
            Joi.string(),
            Joi.number()
        ],

        birth_year: Joi.number()
            .integer()
            .min(1900)
            .max(2013),

        email: Joi.string()
            .email({ minDomainSegments: 2, tlds: { allow: ['com', 'net'] } })
        })
            .with('username', 'birth_year')
            .xor('password', 'access_token')
            .with('password', 'repeat_password');


        schema.validate({ username: 'abc', birth_year: 1994 });
        // -> { value: { username: 'abc', birth_year: 1994 } }

        schema.validate({});
        // -> { value: {}, error: '"username" is required' }

        // Also -

        try {
            const value = await schema.validateAsync({ username: 'abc', birth_year: 1994 });
        }
        catch (err) { }   
   ```
   
   
